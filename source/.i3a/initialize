#!/bin/sh

#------------------------------------------------------------------------------
# Project Name      - i3Config/source/.i3a/initialize
# Started On        - Sat 23 Sep 14:47:51 BST 2017
# Last Change       - Fri 13 Nov 14:58:45 GMT 2020
# Author E-Mail     - terminalforlife@yahoo.com
# Author GitHub     - https://github.com/terminalforlife
#------------------------------------------------------------------------------
# Similar code to that found within `.xinitrc` and the like.
#------------------------------------------------------------------------------

xmodmap -e 'keysym F1 = Escape' -e 'keysym Caps_Lock = ' &

dunst -config "$HOME/.config/dunst/dunstrc" &
compton --config "$HOME/.config/compton.conf" -b &

read Gamma < "$HOME/.config/rs-gamma"
redshift -O ${Gamma}K &

case `hostname` in
	Z11)
		Interface='enp3s0'

		xset s off -dpms r rate 170 70 &

		# Make sure bluetooth is available right out of the gate.
		bluetoothctl <<-EOF
			power on
			discoverable off
			scan on
			exit
		EOF

		# Disabled in favor of using the '/etc/pulse/default.pa' file.
		# Enable Pulse Audio's live noise-cancelling feature.
		#pactl load-module module-echo-cancel\
		#	aec_args='analog_gain_control=0' &

		if ! command -V rudbgvid 1> /dev/null 2>&1; then
			feh --bg-center "$HOME/Pictures/background-bw.jpg" &
		else
			rudbgvid -r -i 9 &
		fi

		keynav &
		mocp -S &

		#perl "$HOME/.i3a/dev_setup"

		sleep 20s
		if command -v notify-upgrade; then
			while :; do
				notify-upgrade
				sleep 10m
			done &
		fi ;;
	Sam)
		Interface='wlp1s0'
		xset s off r rate 180 60 &
		feh --bg-center "$HOME/Pictures/background.jpg" & ;;
esac
